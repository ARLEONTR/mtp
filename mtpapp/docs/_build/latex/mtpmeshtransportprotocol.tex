%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}



\title{MTP: Mesh Transport Protocol}
\date{Dec 08, 2023}
\release{0.0.1}
\author{Ertan Onur}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxstepscope


\chapter{MTP}
\label{\detokenize{mtp:mtp}}\label{\detokenize{mtp::doc}}

\section{Overview}
\label{\detokenize{mtp:overview}}
\sphinxAtStartPar
This readme provides background on the Mesh Transport Protocol (MTP).


\section{Features}
\label{\detokenize{mtp:features}}
\sphinxAtStartPar
MTP provides the following \sphinxstylestrong{features}:
\begin{itemize}
\item {} 
\sphinxAtStartPar
MTP separates policy from mechanism. The user space
application is able to configure supported features of MTP

\item {} 
\sphinxAtStartPar
MTP

\end{itemize}


\section{Headers}
\label{\detokenize{mtp:headers}}

\section{Authors}
\label{\detokenize{mtp:authors}}\begin{quote}\begin{description}
\sphinxlineitem{Authors}
\sphinxAtStartPar
Ertan Onur

\end{description}\end{quote}

\sphinxstepscope
\index{MTP\_load (C function)@\spxentry{MTP\_load}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_load}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_load}}}}{\DUrole{kt}{void}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
invoked when this module is loaded into the Linux kernel

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{void}}}
\sphinxAtStartPar
no arguments

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}

\begin{fulllineitems}

\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{void~\_\_exit~MTP\_unload~(void)}}}
\pysigstopsignatures
\sphinxAtStartPar
invoked when this module is unloaded from the Linux kernel.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{void}}}
\sphinxAtStartPar
no arguments

\end{description}

\end{sphinxuseclass}\index{MTP\_bind (C function)@\spxentry{MTP\_bind}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_bind}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_bind}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{socket}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sock}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sockaddr}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{addr}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{addr\_len}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Implements the bind system call for MTP sockets: associates a well\sphinxhyphen{}known service port with a socket. Unlike other AF\_INET6 protocols, there is no need to invoke this system call for sockets that are only used as clients.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct socket *sock}}}
\sphinxAtStartPar
Socket on which the system call was invoked.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sockaddr *addr}}}
\sphinxAtStartPar
Contains the desired port number.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int addr\_len}}}
\sphinxAtStartPar
Number of bytes in uaddr.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_close (C function)@\spxentry{MTP\_close}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_close}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{void}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_close}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{kt}{long}\DUrole{w}{ }\DUrole{n}{timeout}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Invoked when close system call is invoked on a MTP socket.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket being closed

\sphinxlineitem{\sphinxcode{\sphinxupquote{long timeout}}}
\sphinxAtStartPar
??

\end{description}

\end{sphinxuseclass}\index{MTP\_shutdown (C function)@\spxentry{MTP\_shutdown}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_shutdown}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_shutdown}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{socket}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sock}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{how}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Implements the shutdown system call for MTP sockets.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct socket *sock}}}
\sphinxAtStartPar
Socket to shut down.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int how}}}
\sphinxAtStartPar
Ignored: for other sockets, can independently shut down
sending and receiving, but for MTP any shutdown will
shut down everything.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_disconnect (C function)@\spxentry{MTP\_disconnect}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_disconnect}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_disconnect}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{flags}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Invoked when disconnect system call is invoked on a MTP socket.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket to disconnect

\sphinxlineitem{\sphinxcode{\sphinxupquote{int flags}}}
\sphinxAtStartPar
??

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_ioc\_abort (C function)@\spxentry{MTP\_ioc\_abort}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_ioc_abort}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_ioc\_abort}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{kt}{unsigned}\DUrole{w}{ }\DUrole{kt}{long}\DUrole{w}{ }\DUrole{n}{arg}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
The top\sphinxhyphen{}level function for the ioctl that implements the MTP\_abort user\sphinxhyphen{}level API.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket for this request.

\sphinxlineitem{\sphinxcode{\sphinxupquote{unsigned long arg}}}
\sphinxAtStartPar
Used to pass information from user space.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_ioctl (C function)@\spxentry{MTP\_ioctl}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_ioctl}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_ioctl}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{cmd}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{arg}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Implements the ioctl system call for MTP sockets.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket on which the system call was invoked.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int cmd}}}
\sphinxAtStartPar
Identifier for a particular ioctl operation.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int *arg}}}
\sphinxAtStartPar
Operation\sphinxhyphen{}specific argument; typically the address of a block
of data in user address space.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_socket (C function)@\spxentry{MTP\_socket}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_socket}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_socket}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Implements the socket(2) system call for sockets.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket on which the system call was invoked. The non\sphinxhyphen{}MTP
parts have already been initialized.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
always 0 (success).

\end{sphinxuseclass}\index{MTP\_setsockopt (C function)@\spxentry{MTP\_setsockopt}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_setsockopt}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_setsockopt}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{level}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{optname}\sphinxparamcomma \DUrole{n}{sockptr\_t}\DUrole{w}{ }\DUrole{n}{optval}\sphinxparamcomma \DUrole{kt}{unsigned}\DUrole{w}{ }\DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{optlen}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Implements the getsockopt system call for MTP sockets.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket on which the system call was invoked.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int level}}}
\sphinxAtStartPar
Level at which the operation should be handled; will always
be IPPROTO\_MTP.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int optname}}}
\sphinxAtStartPar
Identifies a particular setsockopt operation.

\sphinxlineitem{\sphinxcode{\sphinxupquote{sockptr\_t optval}}}
\sphinxAtStartPar
Address in user space of information about the option.

\sphinxlineitem{\sphinxcode{\sphinxupquote{unsigned int optlen}}}
\sphinxAtStartPar
Number of bytes of data at \sphinxstylestrong{optval}.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}

\begin{fulllineitems}

\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{int~MTP\_getsockopt~(struct~sock~*sk,~int~level,~int~optname,~char~\_\_user~*optval,~int~\_\_user~*option)}}}
\pysigstopsignatures
\sphinxAtStartPar
Implements the getsockopt system call for MTP sockets.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket on which the system call was invoked.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int level}}}
\sphinxAtStartPar
??

\sphinxlineitem{\sphinxcode{\sphinxupquote{int optname}}}
\sphinxAtStartPar
Identifies a particular setsockopt operation.

\sphinxlineitem{\sphinxcode{\sphinxupquote{char \_\_user *optval}}}
\sphinxAtStartPar
Address in user space where the option’s value should be stored.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int \_\_user *option}}}
\sphinxAtStartPar
??.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_sendmsg (C function)@\spxentry{MTP\_sendmsg}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_sendmsg}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_sendmsg}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{msghdr}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{msg}\sphinxparamcomma \DUrole{n}{size\_t}\DUrole{w}{ }\DUrole{n}{length}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Send a request or response message on a MTP socket.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket on which the system call was invoked.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct msghdr *msg}}}
\sphinxAtStartPar
Structure describing the message to send; the msg\_control
field points to additional information.

\sphinxlineitem{\sphinxcode{\sphinxupquote{size\_t length}}}
\sphinxAtStartPar
Number of bytes of the message.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_recvmsg (C function)@\spxentry{MTP\_recvmsg}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_recvmsg}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_recvmsg}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{msghdr}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{msg}\sphinxparamcomma \DUrole{n}{size\_t}\DUrole{w}{ }\DUrole{n}{len}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{flags}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{addr\_len}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Receive a message from a MTP socket.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket on which the system call was invoked.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct msghdr *msg}}}
\sphinxAtStartPar
Controlling information for the receive.

\sphinxlineitem{\sphinxcode{\sphinxupquote{size\_t len}}}
\sphinxAtStartPar
Total bytes of space available in msg\sphinxhyphen{}\textgreater{}msg\_iov; not used.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int flags}}}
\sphinxAtStartPar
Flags from system call, not including MSG\_DONTWAIT; ignored.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int *addr\_len}}}
\sphinxAtStartPar
Store the length of the sender address here

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}
\begin{description}
\sphinxlineitem{The length of the message on success, otherwise a negative}
\sphinxAtStartPar
errno.

\end{description}

\end{sphinxuseclass}\index{MTP\_sendpage (C function)@\spxentry{MTP\_sendpage}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_sendpage}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_sendpage}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }{\hyperref[\detokenize{mtpimpl.c:c.MTP_sendpage}]{\sphinxcrossref{\DUrole{n}{page}}}}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{page}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{offset}\sphinxparamcomma \DUrole{n}{size\_t}\DUrole{w}{ }\DUrole{n}{size}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{flags}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
??.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket for the operation

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct page *page}}}
\sphinxAtStartPar
??

\sphinxlineitem{\sphinxcode{\sphinxupquote{int offset}}}
\sphinxAtStartPar
??

\sphinxlineitem{\sphinxcode{\sphinxupquote{size\_t size}}}
\sphinxAtStartPar
??

\sphinxlineitem{\sphinxcode{\sphinxupquote{int flags}}}
\sphinxAtStartPar
??

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 on success, otherwise a negative errno.

\end{sphinxuseclass}\index{MTP\_hash (C function)@\spxentry{MTP\_hash}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_hash}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_hash}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
??.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket for the operation

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
??

\end{sphinxuseclass}\index{MTP\_unhash (C function)@\spxentry{MTP\_unhash}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_unhash}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{void}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_unhash}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
??.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket for the operation

\end{description}

\end{sphinxuseclass}\index{MTP\_rehash (C function)@\spxentry{MTP\_rehash}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_rehash}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{void}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_rehash}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
??.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket for the operation

\end{description}

\end{sphinxuseclass}\index{MTP\_get\_port (C function)@\spxentry{MTP\_get\_port}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_get_port}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_get\_port}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{kt}{unsigned}\DUrole{w}{ }\DUrole{kt}{short}\DUrole{w}{ }\DUrole{n}{snum}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
It appears that this function is called to assign a default port for a socket.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket for the operation

\sphinxlineitem{\sphinxcode{\sphinxupquote{unsigned short snum}}}
\sphinxAtStartPar
Unclear what this is.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
Zero for success, or a negative errno for an error.

\end{sphinxuseclass}\index{MTP\_diag\_destroy (C function)@\spxentry{MTP\_diag\_destroy}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_diag_destroy}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_diag\_destroy}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{err}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
??.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
Socket for the operation

\sphinxlineitem{\sphinxcode{\sphinxupquote{int err}}}
\sphinxAtStartPar
??

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
??

\end{sphinxuseclass}\index{MTP\_v4\_early\_demux (C function)@\spxentry{MTP\_v4\_early\_demux}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_v4_early_demux}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_v4\_early\_demux}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sk\_buff}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{skb}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Invoked by IP for ??.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sk\_buff *skb}}}
\sphinxAtStartPar
Socket buffer.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
Always 0?

\end{sphinxuseclass}\index{MTP\_v4\_early\_demux\_handler (C function)@\spxentry{MTP\_v4\_early\_demux\_handler}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_v4_early_demux_handler}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_v4\_early\_demux\_handler}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sk\_buff}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{skb}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
invoked by IP for ??.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sk\_buff *skb}}}
\sphinxAtStartPar
Socket buffer.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
Always 0?

\end{sphinxuseclass}\index{MTP\_softirq (C function)@\spxentry{MTP\_softirq}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_softirq}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_softirq}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sk\_buff}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{skb}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
This function is invoked at SoftIRQ level to handle incoming packets.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sk\_buff *skb}}}
\sphinxAtStartPar
The incoming packet.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
Always 0

\end{sphinxuseclass}\index{MTP\_backlog\_rcv (C function)@\spxentry{MTP\_backlog\_rcv}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_backlog_rcv}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_backlog\_rcv}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sk}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sk\_buff}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{skb}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Invoked to handle packets saved on a socket’s backlog because it was locked when the packets first arrived.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sock *sk}}}
\sphinxAtStartPar
MTP socket that owns the packet’s destination port.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sk\_buff *skb}}}
\sphinxAtStartPar
The incoming packet. This function takes ownership of the packet
(we’ll delete it).

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
Always returns 0.

\end{sphinxuseclass}\index{MTP\_err\_handler\_v4 (C function)@\spxentry{MTP\_err\_handler\_v4}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_err_handler_v4}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_err\_handler\_v4}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sk\_buff}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{skb}\sphinxparamcomma \DUrole{n}{u32}\DUrole{w}{ }\DUrole{n}{info}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Invoked by IP to handle an incoming error packet, such as ICMP UNREACHABLE.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sk\_buff *skb}}}
\sphinxAtStartPar
The incoming packet.

\sphinxlineitem{\sphinxcode{\sphinxupquote{u32 info}}}
\sphinxAtStartPar
Information about the error that occurred?

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
zero, or a negative errno if the error couldn’t be handled here.

\end{sphinxuseclass}\index{MTP\_err\_handler\_v6 (C function)@\spxentry{MTP\_err\_handler\_v6}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_err_handler_v6}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_err\_handler\_v6}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{sk\_buff}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{skb}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{inet6\_skb\_parm}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{opt}\sphinxparamcomma \DUrole{n}{u8}\DUrole{w}{ }\DUrole{n}{type}\sphinxparamcomma \DUrole{n}{u8}\DUrole{w}{ }\DUrole{n}{code}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{offset}\sphinxparamcomma \DUrole{n}{\_\_be32}\DUrole{w}{ }\DUrole{n}{info}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Invoked by IP to handle an incoming error packet, such as ICMP UNREACHABLE.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct sk\_buff *skb}}}
\sphinxAtStartPar
The incoming packet.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct inet6\_skb\_parm *opt}}}
\sphinxAtStartPar
options

\sphinxlineitem{\sphinxcode{\sphinxupquote{u8 type}}}
\sphinxAtStartPar
type

\sphinxlineitem{\sphinxcode{\sphinxupquote{u8 code}}}
\sphinxAtStartPar
code

\sphinxlineitem{\sphinxcode{\sphinxupquote{int offset}}}
\sphinxAtStartPar
offset

\sphinxlineitem{\sphinxcode{\sphinxupquote{\_\_be32 info}}}
\sphinxAtStartPar
Information about the error that occurred?

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
zero, or a negative errno if the error couldn’t be handled here.

\end{sphinxuseclass}\index{MTP\_poll (C function)@\spxentry{MTP\_poll}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_poll}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{n}{\_\_poll\_t}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_poll}}}}{\DUrole{k}{struct}\DUrole{w}{ }{\hyperref[\detokenize{mtpimpl.c:c.MTP_poll}]{\sphinxcrossref{\DUrole{n}{file}}}}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{file}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{socket}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{sock}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{poll\_table\_struct}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{wait}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Invoked by Linux as part of implementing select, poll, epoll, etc.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct file *file}}}
\sphinxAtStartPar
Open file that is participating in a poll, select, etc.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct socket *sock}}}
\sphinxAtStartPar
A MTP socket, associated with \sphinxstylestrong{file}.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct poll\_table\_struct *wait}}}
\sphinxAtStartPar
This table will be registered with the socket, so that it
is notified when the socket’s ready state changes.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}
\begin{description}
\sphinxlineitem{A mask of bits such as EPOLLIN, which indicate the current}
\sphinxAtStartPar
state of the socket.

\end{description}

\end{sphinxuseclass}\index{MTP\_metrics\_open (C function)@\spxentry{MTP\_metrics\_open}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_metrics_open}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_metrics\_open}}}}{\DUrole{k}{struct}\DUrole{w}{ }{\hyperref[\detokenize{mtpimpl.c:c.MTP_metrics_open}]{\sphinxcrossref{\DUrole{n}{inode}}}}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{inode}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }{\hyperref[\detokenize{mtpimpl.c:c.MTP_metrics_open}]{\sphinxcrossref{\DUrole{n}{file}}}}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{file}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
This function is invoked when /proc/net/MTP\_metrics is opened.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct inode *inode}}}
\sphinxAtStartPar
The inode corresponding to the file.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct file *file}}}
\sphinxAtStartPar
Information about the open file.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
always 0.

\end{sphinxuseclass}

\begin{fulllineitems}

\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{ssize\_t~MTP\_metrics\_read~(struct~file~*file,~char~\_\_user~*buffer,~size\_t~length,~loff\_t~*offset)}}}
\pysigstopsignatures
\sphinxAtStartPar
This function is invoked to handle read kernel calls on /proc/net/MTP\_metrics.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct file *file}}}
\sphinxAtStartPar
Information about the file being read.

\sphinxlineitem{\sphinxcode{\sphinxupquote{char \_\_user *buffer}}}
\sphinxAtStartPar
Address in user space of the buffer in which data from the file
should be returned.

\sphinxlineitem{\sphinxcode{\sphinxupquote{size\_t length}}}
\sphinxAtStartPar
Number of bytes available at \sphinxstylestrong{buffer}.

\sphinxlineitem{\sphinxcode{\sphinxupquote{loff\_t *offset}}}
\sphinxAtStartPar
Current read offset within the file.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
the number of bytes returned at \sphinxstylestrong{buffer}. 0 means the end of the
file was reached, and a negative number indicates an error (\sphinxhyphen{}errno).

\end{sphinxuseclass}\index{MTP\_metrics\_lseek (C function)@\spxentry{MTP\_metrics\_lseek}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_metrics_lseek}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{n}{loff\_t}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_metrics\_lseek}}}}{\DUrole{k}{struct}\DUrole{w}{ }{\hyperref[\detokenize{mtpimpl.c:c.MTP_metrics_lseek}]{\sphinxcrossref{\DUrole{n}{file}}}}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{file}\sphinxparamcomma \DUrole{n}{loff\_t}\DUrole{w}{ }\DUrole{n}{offset}\sphinxparamcomma \DUrole{kt}{int}\DUrole{w}{ }\DUrole{n}{whence}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
This function is invoked to handle seeks on /proc/net/MTP\_metrics. Right now seeks are ignored: the file must be read sequentially.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct file *file}}}
\sphinxAtStartPar
Information about the file being read.

\sphinxlineitem{\sphinxcode{\sphinxupquote{loff\_t offset}}}
\sphinxAtStartPar
Distance to seek, in bytes

\sphinxlineitem{\sphinxcode{\sphinxupquote{int whence}}}
\sphinxAtStartPar
Starting point from which to measure the distance to seek.

\end{description}

\end{sphinxuseclass}\index{MTP\_metrics\_release (C function)@\spxentry{MTP\_metrics\_release}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_metrics_release}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_metrics\_release}}}}{\DUrole{k}{struct}\DUrole{w}{ }{\hyperref[\detokenize{mtpimpl.c:c.MTP_metrics_release}]{\sphinxcrossref{\DUrole{n}{inode}}}}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{inode}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }{\hyperref[\detokenize{mtpimpl.c:c.MTP_metrics_release}]{\sphinxcrossref{\DUrole{n}{file}}}}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{file}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
This function is invoked when the last reference to an open /proc/net/MTP\_metrics is closed. It performs cleanup.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct inode *inode}}}
\sphinxAtStartPar
The inode corresponding to the file.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct file *file}}}
\sphinxAtStartPar
Information about the open file.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
always 0.

\end{sphinxuseclass}

\begin{fulllineitems}

\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{int~MTP\_dointvec~(struct~ctl\_table~*table,~int~write,~void~\_\_user~*buffer,~size\_t~*lenp,~loff\_t~*ppos)}}}
\pysigstopsignatures
\sphinxAtStartPar
This function is a wrapper around proc\_dointvec. It is invoked to read and write sysctl values and also update other values that depend on the modified value.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct ctl\_table *table}}}
\sphinxAtStartPar
sysctl table describing value to be read or written.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int write}}}
\sphinxAtStartPar
Nonzero means value is being written, 0 means read.

\sphinxlineitem{\sphinxcode{\sphinxupquote{void \_\_user *buffer}}}
\sphinxAtStartPar
Address in user space of the input/output data.

\sphinxlineitem{\sphinxcode{\sphinxupquote{size\_t *lenp}}}
\sphinxAtStartPar
Not exactly sure.

\sphinxlineitem{\sphinxcode{\sphinxupquote{loff\_t *ppos}}}
\sphinxAtStartPar
Not exactly sure.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 for success, nonzero for error.

\end{sphinxuseclass}

\begin{fulllineitems}

\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{int~MTP\_sysctl\_softirq\_cores~(struct~ctl\_table~*table,~int~write,~void~\_\_user~*buffer,~size\_t~*lenp,~loff\_t~*ppos)}}}
\pysigstopsignatures
\sphinxAtStartPar
This function is invoked to handle sysctl requests for the “gen3\_softirq\_cores” target, which requires special processing.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct ctl\_table *table}}}
\sphinxAtStartPar
sysctl table describing value to be read or written.

\sphinxlineitem{\sphinxcode{\sphinxupquote{int write}}}
\sphinxAtStartPar
Nonzero means value is being written, 0 means read.

\sphinxlineitem{\sphinxcode{\sphinxupquote{void \_\_user *buffer}}}
\sphinxAtStartPar
Address in user space of the input/output data.

\sphinxlineitem{\sphinxcode{\sphinxupquote{size\_t *lenp}}}
\sphinxAtStartPar
Not exactly sure.

\sphinxlineitem{\sphinxcode{\sphinxupquote{loff\_t *ppos}}}
\sphinxAtStartPar
Not exactly sure.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
0 for success, nonzero for error.

\end{sphinxuseclass}\index{MTP\_hrtimer (C function)@\spxentry{MTP\_hrtimer}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_hrtimer}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{k}{enum}\DUrole{w}{ }\DUrole{n}{hrtimer\_restart}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_hrtimer}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{hrtimer}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{timer}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
This function is invoked by the hrtimer mechanism to wake up the timer thread. Runs at IRQ level.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct hrtimer *timer}}}
\sphinxAtStartPar
The timer that triggered; not used.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
Always HRTIMER\_RESTART.

\end{sphinxuseclass}\index{MTP\_timer\_main (C function)@\spxentry{MTP\_timer\_main}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpimpl.c:c.MTP_timer_main}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{int}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_timer\_main}}}}{\DUrole{kt}{void}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{transportInfo}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Top\sphinxhyphen{}level function for the timer thread.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{void *transportInfo}}}
\sphinxAtStartPar
Pointer to struct MTP.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
Always 0.

\end{sphinxuseclass}
\sphinxstepscope
\index{MTP\_sock\_init (C function)@\spxentry{MTP\_sock\_init}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpinst.c:c.MTP_sock_init}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{kt}{void}\DUrole{w}{ }\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_sock\_init}}}}{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{MTP\_sock}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{mtpsk}\sphinxparamcomma \DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{MTP}\DUrole{w}{ }\DUrole{p}{*}\DUrole{n}{mtpinst}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Constructor for MTP\_sock objects. This function initializes only the parts of the socket that are owned by MTP.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{struct MTP\_sock *mtpsk}}}
\sphinxAtStartPar
Object to initialize.

\sphinxlineitem{\sphinxcode{\sphinxupquote{struct MTP *mtpinst}}}
\sphinxAtStartPar
MTP implementation that will manage the socket.

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
always 0 (success).

\end{sphinxuseclass}\index{MTP\_init (C function)@\spxentry{MTP\_init}\spxextra{C function}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mtpinst.c:c.MTP_init}}
\pysigstartsignatures
\pysigstartmultiline
\pysiglinewithargsret{\DUrole{k}{struct}\DUrole{w}{ }\DUrole{n}{MTP}\DUrole{w}{ }\DUrole{p}{*}\sphinxbfcode{\sphinxupquote{\DUrole{n}{MTP\_init}}}}{\DUrole{kt}{void}}{}
\pysigstopmultiline
\pysigstopsignatures
\sphinxAtStartPar
Constructor for MTP object. This function initializes MTP data structure.

\end{fulllineitems}


\begin{sphinxuseclass}{kernelindent}
\sphinxAtStartPar
\sphinxstylestrong{Parameters}
\begin{description}
\sphinxlineitem{\sphinxcode{\sphinxupquote{void}}}
\sphinxAtStartPar
no arguments

\end{description}

\sphinxAtStartPar
\sphinxstylestrong{Return}

\sphinxAtStartPar
pointer to the MTP object.

\end{sphinxuseclass}

\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{search}

\end{itemize}



\renewcommand{\indexname}{Index}
\printindex
\end{document}